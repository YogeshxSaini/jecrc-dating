(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[375],{6130:function(e,t,r){Promise.resolve().then(r.bind(r,5662))},5662:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return n}});var s=r(7437),a=r(2265),l=r(8222);function n(){let[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)(!0),[i,o]=(0,a.useState)("PENDING");(0,a.useEffect)(()=>{d()},[i]);let d=async()=>{try{n(!0);let e=await l.h.getReports(i);t(e.reports||[])}catch(e){console.error("Failed to load reports:",e)}finally{n(!1)}},c=async(e,t)=>{let r=prompt("Enter resolution notes for this ".concat(t.toLowerCase()," report:"));if(r)try{await l.h.reviewReport(e,t,r),alert("Report reviewed successfully"),d()}catch(e){console.error("Failed to review report:",e),alert("Failed to review report")}},x=async(e,t)=>{let r=prompt("Enter reason for banning ".concat(t,":"));if(r)try{await l.h.banUser(e,r),alert("User banned successfully"),d()}catch(e){console.error("Failed to ban user:",e),alert("Failed to ban user")}};return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"User Reports"}),(0,s.jsx)("p",{className:"text-gray-400",children:"Review and manage user reports"})]}),(0,s.jsx)("div",{className:"mb-6 flex gap-2",children:["PENDING","REVIEWED","RESOLVED","DISMISSED"].map(e=>(0,s.jsx)("button",{onClick:()=>o(e),className:"px-4 py-2 rounded-lg font-medium transition ".concat(i===e?"bg-purple-600 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"),children:e},e))}),r?(0,s.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500"})}):0===e.length?(0,s.jsxs)("div",{className:"bg-gray-800 rounded-xl p-12 text-center border border-gray-700",children:[(0,s.jsx)("div",{className:"text-6xl mb-4",children:"\uD83C\uDF89"}),(0,s.jsxs)("h2",{className:"text-2xl font-bold text-white mb-2",children:["No ",i.toLowerCase()," reports"]}),(0,s.jsx)("p",{className:"text-gray-400",children:"All caught up!"})]}):(0,s.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,s.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700",children:[(0,s.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,s.jsx)("span",{className:"px-2 py-1 text-xs font-semibold rounded-full ".concat("PENDING"===e.status?"bg-yellow-500/20 text-yellow-400":"RESOLVED"===e.status?"bg-green-500/20 text-green-400":"DISMISSED"===e.status?"bg-gray-700 text-gray-400":"bg-blue-500/20 text-blue-400"),children:e.status}),(0,s.jsx)("span",{className:"text-gray-400 text-sm",children:new Date(e.createdAt).toLocaleString()})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("div",{className:"text-white font-semibold mb-1",children:"Reported User"}),(0,s.jsxs)("div",{className:"text-gray-300",children:[e.reported.displayName||"No name"," (",e.reported.email,")",e.reported.isBanned&&(0,s.jsx)("span",{className:"ml-2 px-2 py-1 text-xs font-semibold rounded-full bg-red-500/20 text-red-400",children:"Banned"})]})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("div",{className:"text-white font-semibold mb-1",children:"Reported By"}),(0,s.jsxs)("div",{className:"text-gray-300",children:[e.reporter.displayName||"No name"," (",e.reporter.email,")"]})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("div",{className:"text-white font-semibold mb-1",children:"Reason"}),(0,s.jsx)("div",{className:"text-gray-300 bg-gray-900 p-3 rounded-lg",children:e.reason})]}),e.resolution&&(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("div",{className:"text-white font-semibold mb-1",children:"Resolution"}),(0,s.jsx)("div",{className:"text-gray-300 bg-gray-900 p-3 rounded-lg",children:e.resolution})]})]})}),"PENDING"===e.status&&(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("button",{onClick:()=>c(e.id,"DISMISSED"),className:"px-4 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition",children:"Dismiss"}),(0,s.jsx)("button",{onClick:()=>c(e.id,"REVIEWED"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:"Mark Reviewed"}),(0,s.jsx)("button",{onClick:()=>c(e.id,"RESOLVED"),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition",children:"Resolve"}),!e.reported.isBanned&&(0,s.jsx)("button",{onClick:()=>x(e.reported.id,e.reported.displayName),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition ml-auto",children:"Ban User"})]})]},e.id))})]})}},622:function(e,t,r){"use strict";var s=r(2265),a=Symbol.for("react.element"),l=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function d(e,t,r){var s,l={},d=null,c=null;for(s in void 0!==r&&(d=""+r),void 0!==t.key&&(d=""+t.key),void 0!==t.ref&&(c=t.ref),t)n.call(t,s)&&!o.hasOwnProperty(s)&&(l[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps)void 0===l[s]&&(l[s]=t[s]);return{$$typeof:a,type:e,key:d,ref:c,props:l,_owner:i.current}}t.Fragment=l,t.jsx=d,t.jsxs=d},7437:function(e,t,r){"use strict";e.exports=r(622)}},function(e){e.O(0,[829,222,971,458,744],function(){return e(e.s=6130)}),_N_E=e.O()}]);