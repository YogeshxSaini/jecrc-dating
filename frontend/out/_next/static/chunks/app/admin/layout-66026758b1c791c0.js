(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[91],{4411:function(e,r,s){Promise.resolve().then(s.bind(s,4579))},4579:function(e,r,s){"use strict";s.r(r),s.d(r,{default:function(){return o}});var a=s(7437),n=s(2265),t=s(4033),l=s(1396),i=s.n(l),c=s(8222);function o(e){let{children:r}=e,s=(0,t.useRouter)(),l=(0,t.usePathname)(),[o,d]=(0,n.useState)(!0),[u,h]=(0,n.useState)(null);(0,n.useEffect)(()=>{f()},[]);let f=async()=>{try{if(!localStorage.getItem("accessToken")){s.push("/login");return}let e=await c.h.getMe();if("ADMIN"!==e.user.role){s.push("/dashboard");return}h(e.user.role)}catch(e){console.error("Access check failed:",e),s.push("/login")}finally{d(!1)}};return o?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-900",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500"})}):u?(0,a.jsxs)("div",{className:"min-h-screen bg-gray-900",children:[(0,a.jsx)("div",{className:"fixed inset-y-0 left-0 w-64 bg-gray-800 border-r border-gray-700",children:(0,a.jsxs)("div",{className:"flex flex-col h-full",children:[(0,a.jsx)("div",{className:"p-6 border-b border-gray-700",children:(0,a.jsxs)(i(),{href:"/admin",className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"text-2xl",children:"\uD83D\uDC96"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-lg font-bold text-white",children:"Admin Panel"}),(0,a.jsx)("div",{className:"text-xs text-gray-400",children:"JECRC Dating"})]})]})}),(0,a.jsx)("nav",{className:"flex-1 p-4 space-y-2",children:[{href:"/admin",label:"Dashboard",icon:"\uD83D\uDCCA"},{href:"/admin/analytics",label:"Analytics",icon:"\uD83D\uDCC8"},{href:"/admin/users",label:"Users",icon:"\uD83D\uDC65"},{href:"/admin/matches",label:"Matches",icon:"\uD83D\uDC98"},{href:"/admin/likes",label:"Likes",icon:"❤️"},{href:"/admin/verifications",label:"Verifications",icon:"✅"},{href:"/admin/reports",label:"Reports",icon:"\uD83D\uDEA8"},{href:"/admin/chats",label:"Chats",icon:"\uD83D\uDCAC"},{href:"/admin/broadcast",label:"Broadcast",icon:"\uD83D\uDCE2"},{href:"/admin/audit-logs",label:"Audit Logs",icon:"\uD83D\uDCCB"},{href:"/admin/settings",label:"Settings",icon:"⚙️"}].map(e=>{let r=l===e.href;return(0,a.jsxs)(i(),{href:e.href,className:"flex items-center space-x-3 px-4 py-3 rounded-lg transition ".concat(r?"bg-purple-600 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"),children:[(0,a.jsx)("span",{className:"text-xl",children:e.icon}),(0,a.jsx)("span",{className:"font-medium",children:e.label})]},e.href)})}),(0,a.jsx)("div",{className:"p-4 border-t border-gray-700",children:(0,a.jsxs)(i(),{href:"/dashboard",className:"flex items-center space-x-3 px-4 py-3 text-gray-300 hover:bg-gray-700 hover:text-white rounded-lg transition",children:[(0,a.jsx)("span",{className:"text-xl",children:"\uD83C\uDFE0"}),(0,a.jsx)("span",{className:"font-medium",children:"User Dashboard"})]})})]})}),(0,a.jsx)("div",{className:"ml-64 min-h-screen",children:(0,a.jsx)("div",{className:"p-8",children:r})})]}):null}},622:function(e,r,s){"use strict";var a=s(2265),n=Symbol.for("react.element"),t=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,i=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function o(e,r,s){var a,t={},o=null,d=null;for(a in void 0!==s&&(o=""+s),void 0!==r.key&&(o=""+r.key),void 0!==r.ref&&(d=r.ref),r)l.call(r,a)&&!c.hasOwnProperty(a)&&(t[a]=r[a]);if(e&&e.defaultProps)for(a in r=e.defaultProps)void 0===t[a]&&(t[a]=r[a]);return{$$typeof:n,type:e,key:o,ref:d,props:t,_owner:i.current}}r.Fragment=t,r.jsx=o,r.jsxs=o},7437:function(e,r,s){"use strict";e.exports=s(622)},1396:function(e,r,s){e.exports=s(5250)},4033:function(e,r,s){e.exports=s(5313)}},function(e){e.O(0,[829,250,222,971,458,744],function(){return e(e.s=4411)}),_N_E=e.O()}]);